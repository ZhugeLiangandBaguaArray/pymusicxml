<!DOCTYPE html>
<html lang="en">
<head>
    <title>The Structure of MusicXML Files | MusicXML 4.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../../static/styles.css">

</head>

<body class="has-sidenav">
<div class="topnav">
    <button id="toggle" class="toggle">
        <svg viewBox="0 0 100 80" width="16" height="16" fill="currentColor">
            <rect width="100" height="20" rx="8"></rect>
            <rect y="30" width="100" height="20" rx="8"></rect>
            <rect y="60" width="100" height="20" rx="8"></rect>
        </svg>
    </button>
    <a class="logo" href="../../">
        <span class="logo-text">MusicXML 4.0</span>
    </a>
</div>


<div class="content">
    <nav class="sidenav">
        <img src="../../static/images/back-cg-final.png"/>
        <ul>
            <li><b><a href="../../"/>介绍</b></li>
            <li><b><a href="../introduction/">教程</a></b></li>
            <ul>
                <li><a href="../hello-world/">"Hello World"（开始）</a></li>
                <li><a href="./">文件结构</a></li>
                <li><a href="../midi-compatible-part/">MIDI 兼容部分</a></li>
                <li><a href="../notation-basics/">基本符号</a></li>
                <li><a href="../chord-symbols-and-diagrams/">和弦符号</a></li>
                <li><a href="../tablature/">指法图</a></li>
                <li><a href="../percussion/">打击乐</a></li>
                <li><a href="../compressed-mxl-files/">压缩的 .MXL 文件</a></li>
                <li><a href="../code-generation/">代码生成</a></li>
            </ul>
            <li><b><a href="../../musicxml-reference/">MusicXML 参考</a></b></li>
            <ul>
                <li><a href="../../musicxml-reference/elements/">元素</a></li>
                <li><a href="../../musicxml-reference/data-types/">数据类型</a></li>
                <li><a href="../../musicxml-reference/examples/">示例</a></li>
            </ul>
            <li><b><a href="../../container-reference/">Container（容器） 参考</a></b></li>
            <ul>
                <li><a href="../../container-reference/elements/">元素</a></li>
                <li><a href="../../container-reference/examples/">示例</a></li>
            </ul>
            <li><b><a href="../../opus-reference/">Opus（作品） 参考</a></b></li>
            <ul>
                <li><a href="../../opus-reference/elements/">元素</a></li>
                <li><a href="../../opus-reference/data-types/">数据类型</a></li>
                <li><a href="../../opus-reference/examples/">示例</a></li>
            </ul>
            <li><b><a href="../../sounds-reference/">Sounds（声音） 参考</a></b></li>
            <ul>
                <li><a href="../../sounds-reference/elements/">元素</a></li>
                <li><a href="../../sounds-reference/data-types/">数据类型</a></li>
                <li><a href="../../sounds-reference/examples/">示例</a></li>
            </ul>
            <li><b><a href="../../listings/overview/">文件列表</a></b></li>
            <ul>
                <li><a href="../../listings/musicxml.xsd/">musicxml.xsd</a></li>
                <li><a href="../../listings/xlink.xsd/">xlink.xsd</a></li>
                <li><a href="../../listings/xml.xsd/">xml.xsd</a></li>
                <li><a href="../../listings/container.xsd/">container.xsd</a></li>
                <li><a href="../../listings/opus.xsd/">opus.xsd</a></li>
                <li><a href="../../listings/sounds.xsd/">sounds.xsd</a></li>
                <li><a href="../../listings/sounds.xml/">sounds.xml</a></li>
                <li><a href="../../listings/catalog.xml/">catalog.xml</a></li>
                <li><a href="../../listings/to31.xsl/">to31.xsl</a></li>
                <li><a href="../../listings/to30.xsl/">to30.xsl</a></li>
                <li><a href="../../listings/to20.xsl/">to20.xsl</a></li>
                <li><a href="../../listings/to11.xsl/">to11.xsl</a></li>
                <li><a href="../../listings/to10.xsl/">to10.xsl</a></li>
                <li><a href="../../listings/parttime.xsl/">parttime.xsl</a></li>
                <li><a href="../../listings/timepart.xsl/">timepart.xsl</a></li>
            </ul>
            <li><b><a href="../../version-history/">历史版本</a></b></li>
            <ul>
                <li><a href="../../version-history/40/">Version 4.0</a></li>
                <li><a href="../../version-history/31/">Version 3.1</a></li>
                <li><a href="../../version-history/30/">Version 3.0</a></li>
                <li><a href="../../version-history/20/">Version 2.0</a></li>
                <li><a href="../../version-history/11/">Version 1.1</a></li>
                <li><a href="../../version-history/10/">Version 1.0</a></li>
            </ul>
        </ul>
    </nav>
    <main>

        <p class="breadcrumb">
            <a href="../../">MusicXML 4.0</a> &gt;
            <a href="../">Tutorial</a> &gt;
            The Structure of MusicXML Files
        </p>

        <h1>MusicXML文件的结构</h1>

        <h2 id="adapting-to-a-hierarchy">使乐谱适应层次结构（Hierarchy）</h2>

        <p>
            假设我们有一段音乐供两个人或更多人演奏。它有多个部分（part），每个玩家一个，以及多个小节。XML以层次结构表示数据，但乐谱更像是一个格子。
            我们如何协调这一点？音乐部分的横向组织应该是首要的，还是音乐措施的纵向组织？</p>

        <p>每个音乐应用程序的答案都不同。音乐认知专家、Hudrum的发明者大卫·休伦（David Huron）
            建议我们确保我们能够以两种方式表达音乐， 并能够轻松地在两者之间切换。</p>

        <p>这就是为什么MusicXML有两种不同的乐谱格式，每种格式都有自己的根元素。对于部分文档，根元素是
            <a href="../../musicxml-reference/elements/score-partwise/">&lt;score-partwise&gt;</a>。
            （在这种情况下，）音乐部分是首要的，每个部分都包含小节。
            对于时间型文档，根元素是<a
                    href="../../musicxml-reference/elements/score-timewise/">&lt;score-timewise&gt;</a>。
            小节是主要的，每个小节中都包含音乐部分。</p>

        <p>如果没有自动方式在两种不同的结构之间切换，那么拥有两种不同结构的效果就不好。
            MusicXML提供了两个XSLT样式表，可以在两种文档类型之间来回转换。
            <a href="../../listings/parttime.xsl/">parttime.xsl</a>样式表可以将&lt;score-partwise&gt;
            转换为&lt;score-timewise&gt;，与此同时<a href="../../listings/timepart.xsl/">timepart.xsl</a> 样式表
            可以将&lt;score-timewise&gt;转换为&lt;score-partwise&gt;。</p>

        <p>阅读MusicXML的应用程序可以选择主要格式，并检查该文档类型。如果它是您的根元素，请继续。如果不是，请检查它是否是其他MusicXML根元素。
            如果是，请应用适当的XSLT样式表以首选格式创建新的MusicXML文档，然后继续。如果这两种top-level文档类型都不是，
            则您没有一个标准的MusicXML文档，可以返回相应的错误消息。</p>

        <p>当您的应用程序写入MusicXML时，只需写入最符合您需要的格式即可。如果需要，让读取MusicXML的程序对其进行转换。</p>

        <p>实际上，当今大多数MusicXML应用程序都使用&lt;score-partwise&gt;格式。
            如果所有其他条件都相同，那么这将是应用程序的选择格式。</p>

        <h2 id="top-level-elements">Top-Level 元素</h2>

        <p>每一个top-level格式包含了一组称为score header（乐谱头信息）的元素，后面跟音乐数据。
            两种格式的唯一区别是&lt;part&gt;和&lt;measure&gt;元素的记谱方式。
            一个&lt;score-partwise&gt;类型的文档包含了一个或者更多的<a
                    href="../../musicxml-reference/elements/part-partwise/">&lt;part&gt;</a> 元素， 并且每一个&lt;part&gt;
            元素包含了一个或者更多的 <a
                    href="../../musicxml-reference/elements/measure-partwise/">&lt;measure&gt;</a> 元素。
            &lt;score-timewise&gt;
            类型的文档对于 <a href="../../musicxml-reference/elements/measure-timewise/">&lt;measure&gt;</a>
            和<a href="../../musicxml-reference/elements/part-timewise/">&lt;part&gt;</a> 元素的顺序正好颠倒过来。</p>

        <p>在这种情况下，lower-level元素被一组称为music data（音乐数据）的元素填充。 这包含乐谱中的实际音乐，包括零个或多个以下元素：
            （部分待翻译）</p>
        <ul>
            <li><a href="../../musicxml-reference/elements/note/">&lt;note&gt;（音符）</a></li>
            <li><a href="../../musicxml-reference/elements/backup/">&lt;backup&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/forward/">&lt;forward&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/direction/">&lt;direction&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/attributes/">&lt;attributes&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/harmony/">&lt;harmony&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/figured-bass/">&lt;figured-bass&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/print/">&lt;print&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/sound/">&lt;sound&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/listening/">&lt;listening&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/barline/">&lt;barline&gt;（小节线）</a></li>
            <li><a href="../../musicxml-reference/elements/grouping/">&lt;grouping&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/link/">&lt;link&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/bookmark/">&lt;bookmark&gt;</a></li>
        </ul>

        <p>score header（乐谱头信息）可能包含以下元素：（部分待翻译）</p>
        <ul>
            <li><a href="../../musicxml-reference/elements/work/">&lt;work&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/movement-number/">&lt;movement-number&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/movement-title/">&lt;movement-title&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/identification/">&lt;identification&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/defaults/">&lt;defaults&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/credit/">&lt;credit&gt;</a></li>
            <li><a href="../../musicxml-reference/elements/part-list/">&lt;part-list&gt;</a> (Required)</li>
        </ul>

        <p>我们现在将更详细地查看score header。 如果先前的 &#8220;Hello World&#8221;
            例子 部分提供了足够的信息，您可能希望跳到开始描述music data的下一节。</p>

        <h2 id="score-header">Score Header（乐谱头信息）</h2>

        <p>score header包含一些关于乐谱的基本元数据，如标题和作曲家。它还包含&lt;part-list&gt;， 它列出了乐谱中的所有部分或乐器。</p>
        <p>举个例子，我们对弗朗茨·舒伯特（Franz Schubert）歌曲循环<em>Winterreise</em> 中第二十二手歌曲 &#8220;Mut,&#8221;进行编码。
            以下是该作品的乐谱示例：</p>

        <p>
        <pre>  &lt;work&gt;
    &lt;work-number&gt;D. 911&lt;/work-number&gt;
    &lt;work-title&gt;Winterreise&lt;/work-title&gt;
  &lt;/work&gt;
  &lt;movement-number&gt;22&lt;/movement-number&gt;
  &lt;movement-title&gt;Mut&lt;/movement-title&gt;
  &lt;identification&gt;
    &lt;creator type="composer"&gt;Franz Schubert&lt;/creator&gt;
    &lt;creator type="poet"&gt;Wilhelm Müller&lt;/creator&gt;
    &lt;rights&gt;Copyright © 2001 Recordare LLC&lt;/rights&gt;
    &lt;encoding&gt;
      &lt;encoding-date&gt;2002-02-16&lt;/encoding-date&gt;
      &lt;encoder&gt;Michael Good&lt;/encoder&gt;
      &lt;software&gt;Finale 2002 for Windows&lt;/software&gt;
      &lt;encoding-description&gt;MusicXML 1.0 example&lt;/encoding-description&gt;
    &lt;/encoding&gt;
    &lt;source&gt;Based on Breitkopf &amp;amp; Härtel edition of 1895&lt;/source&gt;
  &lt;/identification&gt;
  &lt;part-list&gt;
    &lt;score-part id="P1"&gt;
      &lt;part-name&gt;Singstimme.&lt;/part-name&gt;
    &lt;/score-part&gt;
    &lt;score-part id="P2"&gt;
      &lt;part-name&gt;Pianoforte.&lt;/part-name&gt;
    &lt;/score-part&gt;
  &lt;/part-list&gt;</pre>

        <p>您可以看到，此score header包含score header中所有五个可能的top-level元素： &lt;work&gt;、&lt;movement-number&gt;、
            &lt;movement-title&gt;、 &lt;identification&gt; 和 &lt;part-list&gt;。 只有part-list是必需的，所有其他元素都是可选的。
            让我们依次查看每个元素：</p>

        <p>
        <pre>  &lt;work&gt;
    &lt;work-number&gt;D. 911&lt;/work-number&gt;
    &lt;work-title&gt;Winterreise&lt;/work-title&gt;
  &lt;/work&gt;</pre>

        <p>在MusicXML中，单个乐章（movements）通常表示为单独的文件。 <a
                href="../../musicxml-reference/elements/work/">&lt;work&gt;</a> 元素用于识别该乐章所属的较大的音乐作品。
            Schubert的音乐作品通常通过D.数字而不是作品数字来表示，因此这是我们在
            <a href="../../musicxml-reference/elements/work-number/">&lt;work-number&gt;</a>
            元素中使用的；<a href="../../musicxml-reference/elements/work-title/">&lt;work-title&gt;</a>包含了较大音乐作品的名称。
            如果您有作品中的所有乐章，可以使用 <a
                    href="../../musicxml-reference/elements/opus-reference/">&lt;opus&gt;</a>元素链接到MusicXML
            <a href="../../opus-reference/elements/opus/">opus file</a>，该文件又包含指向作品中所有乐章的链接。</p>

        <p>
        <pre>  &lt;movement-number&gt;22&lt;/movement-number&gt;</pre>

        <p><em>Winterreise</em>是24首歌曲的循环。 我们使用<a
                href="../../musicxml-reference/elements/movement-number/">&lt;movement-number&gt;</a>以确定
            &#8220;Mut&#8221; 是该周期中的第22首歌曲 &#8211; 它不限于用于交响乐中的乐章。</p>

        <p>
        <pre>  &lt;movement-title&gt;Mut&lt;/movement-title&gt;</pre>

        <p>类似地，我们使用<a href="../../musicxml-reference/elements/movement-title/">&lt;movement-title&gt;</a>
            元素作为单个歌曲的标题。
            如果您有一首歌曲不是集合的一部分，通常会将歌曲的标题放在
            &lt;movement-title&gt; 元素中并且不使用
            &lt;work&gt; 或 &lt;movement-number&gt; 元素。</p>

        <p>
        <pre>  &lt;identification&gt;
    &lt;creator type="composer"&gt;Franz Schubert&lt;/creator&gt;
    &lt;creator type="poet"&gt;Wilhelm Müller&lt;/creator&gt;</pre>

        <p><a href="../../musicxml-reference/elements/identification/">&lt;identification&gt;</a>元素包含基于
            <a href="https://dublincore.org/specifications/dublin-core/">Dublin
                Core</a>的基本元数据元素。
                在这首歌中，和其他许多歌曲一样，有两位创作者：在本例中，作曲家和诗人。
            因此，我们使用两个<a href="../../musicxml-reference/elements/creator/">&lt;creator&gt;</a>元素并用类型属性区分它们的角色。
            即使对于只有一位作曲家的器乐作品，类型属性也应该使用。</p>

        <p>
        <pre>    &lt;rights&gt;Copyright © 2001 Recordare LLC&lt;/rights&gt;</pre>

        <p><a href="../../musicxml-reference/elements/rights/">&lt;rights&gt;</a>元素包含版权声明。如果涉及多个版权，
            你可能会有多个&lt;rights&gt;元素，比如文字和音乐。 与&lt;creator&gt;元素一样， 这些元素可以具有类型属性，以指示涉及版权。
            在这个例子中，Mut的单词和音乐都在公共领域，但这个元素指定了作品电子版的版权。</p>

        <p>
        <pre>    &lt;encoding&gt;
      &lt;encoding-date&gt;2002-02-16&lt;/encoding-date&gt;
      &lt;encoder&gt;Michael Good&lt;/encoder&gt;
      &lt;software&gt;Finale 2002 for Windows&lt;/software&gt;
      &lt;encoding-description&gt;MusicXML 1.0 example&lt;/encoding-description&gt;
    &lt;/encoding&gt;</pre>

        <p><a href="../../musicxml-reference/elements/encoding/">&lt;encoding&gt;</a>元素包含有关如何创建MusicXML文件的信息。
            这里我们使用所有四个可用的子元素来描述编码。可以有这些元素的多个实例，并且它们可以以任何顺序出现。
        </p>

        <p>
        <pre>    &lt;source&gt;Based on Breitkopf &amp;amp; Härtel edition of 1895&lt;/source&gt;
  &lt;/identification&gt;</pre>

        <p>不同版本的音乐将包含不同的音乐信息 在我们的案例中，我们使用了Breitkopf &amp; Härtel 的版本的<em>Winterreise</em>
            作为我们的出发点，纠正公布乐谱中的一些错误</p>

        <p>&lt;identification&gt; 元素还可以包含<a
                href="../../musicxml-reference/elements/miscellaneous/">&lt;miscellaneous&gt;</a> 元素。 这又包含
            <a href="../../musicxml-reference/elements/miscellaneous-field/">&lt;miscellaneous-field&gt;</a>
            元素， 每个都有一个name属性。 如果您的软件包含MusicXML模式中不存在的某些标识信息，
            并且您希望在保存和读取MusicXML时保留这些信息，那么这将非常有用。</p>

        <p>
        <pre>  &lt;part-list&gt;
    &lt;score-part id="P1"&gt;
      &lt;part-name&gt;Singstimme.&lt;/part-name&gt;
    &lt;/score-part&gt;
    &lt;score-part id="P2"&gt;
      &lt;part-name&gt;Pianoforte.&lt;/part-name&gt;
    &lt;/score-part&gt;
  &lt;/part-list&gt;</pre>

        <p>The <a href="../../musicxml-reference/elements/part-list/">&lt;part-list&gt;</a> is the one element in the
            score header that is required in all MusicXML scores. It is made up of a series of <a
                    href="../../musicxml-reference/elements/score-part/">&lt;score-part&gt;</a> elements, each with a
            required id attribute and <a href="../../musicxml-reference/elements/part-name/">&lt;part-name&gt;</a>
            element. By convention, apps often number the parts as &#8220;P1&#8221;, &#8220;P2&#8221;, etc. to create
            the id attributes. You may use whatever technique you like as long as it produces unique names for each &lt;score-part&gt;.
        </p>

        <p>In addition to the &lt;part-name&gt;, there are many optional elements that can be included in a &lt;score-part&gt;:</p>

        <p>
        <ul>
            <li>An &lt;identification&gt; element, helpful if individual parts come from different sources.</li>
            <li>One or more <a href="../../musicxml-reference/elements/part-link/">&lt;part-link&gt;</a> elements, used
                to link a part document from a score document.
            </li>
            <li>A <a href="../../musicxml-reference/elements/part-name-display/">&lt;part-name-display&gt;</a> element
                for exact formatting of a part name.
            </li>
            <li>A <a href="../../musicxml-reference/elements/part-abbreviation/">&lt;part-abbreviation&gt;</a> element.
                Often, you will use the &lt;part-name&gt; for the name used at the start of the score, and the &lt;part-abbreviation&gt;
                for the abbreviated name used in succeeding systems.
            </li>
            <li>A <a href="../../musicxml-reference/elements/part-abbreviation-display/">&lt;part-abbreviation-display&gt;</a>
                element for exact formatting of a part abbreviation.
            </li>
            <li>A <a href="../../musicxml-reference/elements/group/">&lt;group&gt;</a> element, used when different
                parts can be used for different purposes. Different parts may be used for a printed score, a printed
                part, a MIDI sound file, or for data analysis.
            </li>
            <li>One or more <a href="../../musicxml-reference/elements/score-instrument/">&lt;score-instrument&gt;</a>
                elements, used to describe instrument sounds and virtual instrument settings, as well as to define
                multiple instruments within a &lt;score-part&gt;. This element serves as a reference point for MIDI
                instrument changes.
            </li>
            <li>One or more <a href="../../musicxml-reference/elements/player/">&lt;player&gt;</a> elements for use in
                listening applications.
            </li>
            <li>One or more <a href="../../musicxml-reference/elements/midi-device/">&lt;midi-device&gt;</a> elements
                for identifying the MIDI devices or ports that are being used in a multi-port configuration. Multiple
                devices let you get beyond MIDI 1.0&#8217;s 16-channel barrier.
            </li>
            <li>One or more <a href="../../musicxml-reference/elements/midi-instrument/">&lt;midi-instrument&gt;</a>
                elements, specifying the initial MIDI setup for each &lt;score-instrument&gt; within a part.
            </li>
        </ul>

        <p>Next: <a href="../midi-compatible-part/">The MIDI-Compatible Part of MusicXML</a>

    </main>
</div>


<script type="text/javascript" src="../../static/global.js"></script>

</body>
</html>
